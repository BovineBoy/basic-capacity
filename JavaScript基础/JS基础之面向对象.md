# JSåŸºç¡€å¤ä¹ ä¹‹é¢å‘å¯¹è±¡

## ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ï¼Ÿ

> ä¸‡äº‹ä¸‡ç‰©çš†å¯¹è±¡ã€‚é¢å‘å¯¹è±¡çš„æ€æƒ³ä¸»è¦æ˜¯ä»¥å¯¹è±¡ä¸ºä¸»ï¼Œå°†ä¸€ä¸ªé—®é¢˜æŠ½è±¡å‡ºå…·ä½“çš„å¯¹è±¡ï¼Œå¹¶ä¸”å°†æŠ½è±¡å‡ºæ¥çš„å¯¹è±¡å’Œå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•å°è£…æˆä¸€ä¸ªç±»

## é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«

- é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹å¹¶ä¸æ˜¯å®Œå…¨ç›¸å¯¹çš„ï¼Œä¹Ÿå¹¶ä¸æ˜¯å®Œå…¨ç‹¬ç«‹çš„

- é¢å‘è¿‡ç¨‹ä¸»è¦ä»¥åŠ¨è¯ä¸ºä¸»ï¼Œè§£å†³é—®é¢˜çš„æ–¹å¼æ˜¯æŒ‰ç…§é¡ºåºä¸€æ­¥ä¸€æ­¥è°ƒç”¨ä¸åŒçš„å‡½æ•°

- é¢å‘å¯¹è±¡ä»¥åå­—ä¸ºä¸»ï¼Œå°†é—®é¢˜æŠ½è±¡å‡ºå…·ä½“çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ï¼Œ è§£å†³é—®é¢˜æ—¶å°†ä¸åŒçš„å¯¹è±¡ç»„åˆåœ¨ä¸€èµ·ä½¿ç”¨

- é¢å‘å¯¹è±¡å¯æ‰©å±•æ€§å¼ºï¼Œè§£å†³äº†ä»£ç é‡ç”¨æ€§çš„é—®é¢˜

ä¾‹å­1ï¼šç»å…¸å›é¡¾`æŠŠğŸ˜è£…è¿›å†°ç®±`

é¢å‘è¿‡ç¨‹ï¼š
1. å¼€é—¨(å†°ç®±)
2. è£…è¿›(å†°ç®±, ğŸ˜)
3. å…³é—¨(å†°ç®±)

é¢å‘å¯¹è±¡

1. å†°ç®±.å¼€é—¨()
2. å†°ç®±.è£…è¿›(ğŸ˜)
3. å†°ç®±.å…³é—¨()


å¯ä»¥çœ‹å‡ºæ¥é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„ä¾§é‡ç‚¹æ˜¯ä¸åŒçš„ï¼Œé¢å‘è¿‡ç¨‹æ˜¯ä»¥`åŠ¨è¯`ä¸ºä¸»ï¼Œå®Œæˆä¸€ä¸ªäº‹ä»¶å°±æ˜¯å°†ä¸åŒçš„åŠ¨ä½œå‡½æ•°æŒ‰é¡ºåºè°ƒç”¨ã€‚
é¢å‘å¯¹è±¡æ˜¯ä»¥`ä¸»è°“`ä¸ºä¸»ã€‚å°†ä¸»è°“çœ‹æˆä¸€ä¸ªä¸€ä¸ªçš„å¯¹è±¡ï¼Œç„¶åå¯¹è±¡æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚æ¯”å¦‚è¯´ï¼Œå†°ç®±æœ‰è‡ªå·±çš„idå±æ€§ï¼Œæœ‰å¼€é—¨çš„æ–¹æ³•ã€‚ç„¶åå°±å¯ä»¥ç›´æ¥è°ƒç”¨å†°ç®±çš„å¼€é—¨æ–¹æ³•ç»™å…¶ä¼ å…¥ä¸€ä¸ªå‚æ•°å¤§è±¡å°±å¯ä»¥äº†ã€‚

ä¾‹å­2ï¼šäº”å­æ£‹

é¢å‘è¿‡ç¨‹çš„è®¾è®¡æ€è·¯æ˜¯åˆ†æé—®é¢˜çš„æ­¥éª¤ï¼š
1. å¼€å§‹æ¸¸æˆ
2. é»‘å­å…ˆèµ°
3. ç»˜åˆ¶ç”»é¢
4. åˆ¤æ–­è¾“èµ¢
5. è½®åˆ°ç™½å­
6. ç»˜åˆ¶ç”»é¢
7. åˆ¤æ–­è¾“èµ¢
8. è¿”å›æ­¥éª¤2

é¢å‘å¯¹è±¡è®¾è®¡æ€è·¯æ˜¯å°†æ•´ä¸ªäº”å­æ£‹ç³»ç»Ÿåˆ†ä¸ºï¼š
1. é»‘ç™½åŒæ–¹ï¼Œè¡Œä¸ºä¸€è‡´
2. æ£‹ç›˜ç³»ç»Ÿï¼Œè´Ÿè´£ç»˜åˆ¶ç”»é¢
3. è§„åˆ™ç³»ç»Ÿï¼Œåˆ¤æ–­è¾“èµ¢

åŠŸèƒ½ä¸Šçš„ç»Ÿä¸€ä¿è¯äº†é¢å‘å¯¹è±¡è®¾è®¡çš„å¯æ‰©å±•æ€§ï¼š

- æ¯”å¦‚è¦åŠ å…¥æ‚”æ£‹çš„åŠŸèƒ½ï¼Œå¦‚æœè¦æ”¹åŠ¨é¢å‘è¿‡ç¨‹çš„è®¾è®¡ï¼Œé‚£ä¹ˆä»è¾“å…¥åˆ°åˆ¤æ–­åˆ°æ˜¾ç¤ºè¿™ä¸€è¿ä¸²çš„æ­¥éª¤éƒ½è¦æ”¹åŠ¨ï¼Œç”šè‡³æ­¥éª¤ä¹‹é—´çš„å¾ªåºéƒ½è¦è¿›è¡Œå¤§è§„æ¨¡è°ƒæ•´ã€‚å¦‚æœæ˜¯é¢å‘å¯¹è±¡çš„è¯ï¼Œåªç”¨æ”¹åŠ¨æ£‹ç›˜å¯¹è±¡å°±è¡Œäº†ï¼Œæ£‹ç›˜ç³»ç»Ÿä¿å­˜äº†é»‘ç™½åŒæ–¹çš„æ£‹è°±ï¼Œç®€å•å›æº¯å°±å¯ä»¥äº†ï¼Œè€Œæ˜¾ç¤ºå’Œè§„åˆ™åˆ¤æ–­åˆ™ä¸ç”¨é¡¾åŠï¼ŒåŒæ—¶æ•´ä¸ªå¯¹å¯¹è±¡åŠŸèƒ½çš„è°ƒç”¨é¡ºåºéƒ½æ²¡æœ‰å˜åŒ–ï¼Œæ”¹åŠ¨åªæ˜¯å±€éƒ¨çš„

- å†æ¯”å¦‚è¦æŠŠè¿™ä¸ªäº”å­æ£‹æ¸¸æˆæ”¹ä¸ºå›´æ£‹æ¸¸æˆï¼Œå¦‚æœæ˜¯é¢å‘è¿‡ç¨‹è®¾è®¡ï¼Œé‚£ä¹ˆäº”å­æ£‹çš„è§„åˆ™å°±åˆ†å¸ƒåœ¨äº†ç¨‹åºçš„æ¯ä¸€ä¸ªè§’è½ï¼Œè¦æ”¹åŠ¨è¿˜ä¸å¦‚é‡å†™ã€‚ä½†æ˜¯å¦‚æœå½“åˆå°±æ˜¯é¢å‘å¯¹è±¡çš„è®¾è®¡ï¼Œé‚£ä¹ˆåªç”¨æ”¹åŠ¨è§„åˆ™å¯¹è±¡å°±å¯ä»¥äº†ï¼Œäº”å­æ£‹å’Œå›´æ£‹çš„åŒºåˆ«ä¸å°±æ˜¯è§„åˆ™å—ï¼Ÿè€Œä¸‹æ£‹çš„å¤§è‡´æ­¥éª¤ä»é¢å‘å¯¹è±¡çš„è§’åº¦æ¥çœ‹æ²¡æœ‰ä»»ä½•å˜åŒ–

## å°è£…

é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§æ˜¯å°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€‚

åœ¨ES5ä¸­ï¼Œæ²¡æœ‰`class`è¿™ä¸ªæ¦‚å¿µï¼Œä½†æ˜¯ç”±äºjsçš„å‡½æ•°çº§ä½œç”¨åŸŸï¼ˆ`åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡åœ¨å‡½æ•°å¤–è®¿é—®ä¸åˆ°`ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿ`class`çš„æ•ˆæœã€‚

åœ¨es5ä¸­ï¼Œç±»å…¶å®å°±æ˜¯ä¿å­˜äº†ä¸€ä¸ªå‡½æ•°çš„å˜é‡ï¼Œè¿™ä¸ªå‡½æ•°æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚å°†å±æ€§å’Œæ–¹æ³•ç»„æˆä¸€ä¸ªç±»çš„è¿‡ç¨‹å°±æ˜¯`å°è£…`ã€‚

> å°è£…ï¼šæŠŠå®¢è§‚äº‹ç‰©å°è£…æˆæŠ½è±¡çš„ç±»ï¼Œéšè—å±æ€§å’Œæ–¹æ³•çš„å®ç°ç»†èŠ‚ï¼Œä»…å¯¹å¤–å…¬å¼€æ¥å£ã€‚

#### é€šè¿‡æ„é€ å‡½æ•°æ·»åŠ 

JavaScriptæä¾›äº†ä¸€ä¸ªæ„é€ å‡½æ•°`constructor`æ¨¡å¼ï¼Œç”¨æ¥åœ¨`åˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ–å¯¹è±¡`ã€‚æ„é€ å‡½æ•°å…¶å®å°±æ˜¯æ™®é€šçš„å‡½æ•°ï¼Œåªä¸è¿‡æœ‰ä»¥ä¸‹çš„ç‰¹ç‚¹ï¼š

- é¦–å­—æ¯å¤§å†™(å»ºè®®æ„é€ å‡½æ•°é¦–å­—æ¯å¤§å†™ï¼Œå³ä½¿ç”¨å¤§é©¼å³°å‘½åï¼Œéæ„é€ å‡½æ•°é¦–å­—æ¯å°å†™)

- å†…éƒ¨ä½¿ç”¨ `this`

- ä½¿ç”¨ `new` ç”Ÿæˆå®ä¾‹

é€šè¿‡æ„é€ å‡½æ•°æ·»åŠ å±æ€§å’Œæ–¹æ³•å®é™…ä¸Šä¹Ÿå°±æ˜¯é€šè¿‡thisæ·»åŠ çš„å±æ€§å’Œæ–¹æ³•ã€‚å› ä¸º `this` æ€»æ˜¯æŒ‡å‘å½“å‰å¯¹è±¡çš„ï¼Œæ‰€ä»¥é€šè¿‡ `this` æ·»åŠ çš„å±æ€§å’Œæ–¹æ³•åªåœ¨å½“å‰å¯¹è±¡ä¸Šæ·»åŠ ï¼Œæ˜¯è¯¥å¯¹è±¡è‡ªèº«æ‹¥æœ‰çš„.æ‰€ä»¥æˆ‘ä»¬å®ä¾‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡çš„æ—¶å€™ï¼Œ `this` æŒ‡å‘çš„å±æ€§å’Œæ–¹æ³•éƒ½ä¼šå¾—åˆ°ç›¸åº”çš„åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯ä¼šåœ¨å†…å­˜ä¸­å¤åˆ¶ä¸€ä»½ï¼Œè¿™æ ·å°±é€ æˆäº†å†…å­˜çš„æµªè´¹ã€‚

```javascript
function Cat(name, color) {
  this.name = name
  this.color = color
  this.eat = function() {
    alert("åƒè€é¼ ")
  }
}
```

ç”Ÿæˆå®ä¾‹:
```javascript
var tom = new Cat('Tom', 'blue')
```

**é€šè¿‡thiså®šä¹‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œæˆ‘ä»¬å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™éƒ½ä¼šé‡æ–°å¤åˆ¶ä¸€ä»½**

#### é€šè¿‡åŸå‹prototype

å› ä¸ºåœ¨ç±»ä¸Šé€šè¿‡ `this` çš„æ–¹å¼æ·»åŠ å±æ€§å’Œå¯¹è±¡ä¼šå¯¼è‡´å†…å­˜æµªè´¹çš„é—®é¢˜ï¼Œæ‰€ä»¥è€ƒè™‘è®©å®ä¾‹åŒ–çš„ç±»æ‰€ä½¿ç”¨çš„æ–¹æ³•ç›´æ¥ä½¿ç”¨`æŒ‡é’ˆ`æŒ‡å‘åŒä¸€ä¸ªæ–¹æ³•ã€‚

> Javascriptè§„å®šï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ª `prototype` å±æ€§ï¼ŒæŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œéƒ½ä¼šè¢«æ„é€ å‡½æ•°çš„å®ä¾‹ç»§æ‰¿ã€‚
>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºé‚£äº›ä¸å˜çš„å±æ€§å’Œæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†å…¶æ·»åŠ åœ¨ç±»çš„ `prototype` å¯¹è±¡ä¸Šã€‚

```javascript
function Cat(name, color) {
  this.name = name
  this.color = color
}

Cat.prototype.type = "çŒ«ç§‘åŠ¨ç‰©"
Cat.prototype.eat = function() {
  alert("åƒè€é¼ ")
}
```

ç”Ÿæˆå®ä¾‹ï¼š

```javascript
var tom = new Cat('Tom', 'blue')
var jerry = new Cat('Jerry', 'grown')
console.log(tom.type)   // çŒ«ç§‘åŠ¨ç‰©
console.log(jerry.type) // çŒ«ç§‘åŠ¨ç‰©
```

è¿™æ—¶æ‰€æœ‰å®ä¾‹çš„ `type` å±æ€§å’Œ `eat()` æ–¹æ³•ï¼Œå…¶å®éƒ½æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼ŒæŒ‡å‘ `prototype` å¯¹è±¡ï¼Œå› æ­¤å°±æé«˜äº†è¿è¡Œæ•ˆç‡ã€‚


#### åœ¨ç±»çš„å¤–éƒ¨é€šè¿‡.è¯­æ³•æ·»åŠ 

æˆ‘ä»¬è¿˜å¯ä»¥åœ¨ç±»çš„å¤–éƒ¨é€šè¿‡ `. ` è¯­æ³•è¿›è¡Œæ·»åŠ ï¼Œå› ä¸ºåœ¨å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šæ‰§è¡Œåˆ°åœ¨ç±»å¤–éƒ¨é€šè¿‡ `. ` è¯­æ³•æ·»åŠ çš„å±æ€§ï¼Œæ‰€ä»¥å®ä¾‹åŒ–ä¹‹åçš„å¯¹è±¡æ˜¯ä¸èƒ½è®¿é—®åˆ° `. ` è¯­æ³•æ‰€æ·»åŠ çš„å¯¹è±¡å’Œå±æ€§çš„ï¼Œåªèƒ½é€šè¿‡è¯¥ç±»è®¿é—®ã€‚


###ä¸‰è€…çš„åŒºåˆ«

é€šè¿‡æ„é€ å‡½æ•°ã€åŸå‹å’Œ `. ` è¯­æ³•ä¸‰è€…éƒ½å¯ä»¥åœ¨ç±»ä¸Šæ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚ä½†æ˜¯ä¸‰è€…æ˜¯æœ‰ä¸€å®šçš„åŒºåˆ«çš„ã€‚
**æ„é€ å‡½æ•°**ï¼šé€šè¿‡thisæ·»åŠ çš„å±æ€§å’Œæ–¹æ³•æ€»æ˜¯æŒ‡å‘å½“å‰å¯¹è±¡çš„ï¼Œæ‰€ä»¥åœ¨å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œé€šè¿‡thisæ·»åŠ çš„å±æ€§å’Œæ–¹æ³•éƒ½ä¼šåœ¨å†…å­˜ä¸­å¤åˆ¶ä¸€ä»½ï¼Œè¿™æ ·å°±ä¼šé€ æˆå†…å­˜çš„æµªè´¹ã€‚ä½†æ˜¯è¿™æ ·åˆ›å»ºçš„å¥½å¤„æ˜¯å³ä½¿æ”¹å˜äº†æŸä¸€ä¸ªå¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•ï¼Œä¸ä¼šå½±å“å…¶ä»–çš„å¯¹è±¡ï¼ˆå› ä¸ºæ¯ä¸€ä¸ªå¯¹è±¡éƒ½æ˜¯å¤åˆ¶çš„ä¸€ä»½ï¼‰ã€‚
**åŸå‹**ï¼šé€šè¿‡åŸå‹ç»§æ‰¿çš„æ–¹æ³•å¹¶ä¸æ˜¯è‡ªèº«çš„ï¼Œæˆ‘ä»¬è¦åœ¨åŸå‹é“¾ä¸Šä¸€å±‚ä¸€å±‚çš„æŸ¥æ‰¾ï¼Œè¿™æ ·åˆ›å»ºçš„å¥½å¤„æ˜¯åªåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€æ¬¡ï¼Œå®ä¾‹åŒ–çš„å¯¹è±¡éƒ½ä¼šæŒ‡å‘è¿™ä¸ª `prototype` å¯¹è±¡ï¼Œä½†æ˜¯è¿™æ ·åšä¹Ÿæœ‰å¼Šç«¯ï¼Œå› ä¸ºå®ä¾‹åŒ–çš„å¯¹è±¡çš„åŸå‹éƒ½æ˜¯æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ï¼Œæ”¹åŠ¨å…¶ä¸­çš„ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å¯èƒ½ä¼šå½±å“åˆ°å…¶ä»–çš„å¯¹è±¡ã€‚
**. è¯­æ³•**ï¼šåœ¨ç±»çš„å¤–éƒ¨é€šè¿‡ `. ` è¯­æ³•åˆ›å»ºçš„å±æ€§å’Œæ–¹æ³•åªä¼šåˆ›å»ºä¸€æ¬¡ï¼Œä½†æ˜¯è¿™æ ·åˆ›å»ºçš„å®ä¾‹åŒ–çš„å¯¹è±¡æ˜¯è®¿é—®ä¸åˆ°çš„ï¼Œåªèƒ½é€šè¿‡ç±»çš„è‡ªèº«è®¿é—®ã€‚

#### JavaScriptå®ç°å…³é”®å­—

##### å…³é”®å­—æ¦‚å¿µ

- **public**ï¼š è¡¨æ˜è¯¥æ•°æ®æˆå‘˜ã€æˆå‘˜å‡½æ•°æ˜¯å¯¹æ‰€æœ‰ç”¨æˆ·å¼€æ”¾çš„ï¼Œæ‰€æœ‰ç”¨æˆ·å¯ä»¥ç›´æ¥è°ƒç”¨

- **private**ï¼šè¡¨ç¤ºé™¤äº†classè‡ªå·±ä»¥å¤–ï¼Œè°éƒ½ä¸å¯è°ƒç”¨

- **protected**ï¼šè¡¨ç¤ºå¯¹äºå­å¥³ã€æœ‹å‹publicï¼Œå¯¹äºå¤–éƒ¨classåˆ™æ˜¯private

##### JavaScriptå®ç°

- **private**ï¼šå› ä¸ºjavascriptå‡½æ•°çº§ä½œç”¨åŸŸçš„ç‰¹æ€§ï¼ˆåœ¨å‡½æ•°ä¸­å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å¤–ç•Œè®¿é—®ä¸åˆ°ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨ç›´æ¥å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ç§æœ‰çš„ã€‚

- **public**ï¼šé€šè¿‡ `new` å…³é”®è¯å®ä¾‹åŒ–æ—¶ï¼Œthiså®šä¹‰çš„å±æ€§å’Œå˜é‡éƒ½ä¼šè¢«å¤åˆ¶ä¸€éï¼Œæ‰€ä»¥é€šè¿‡thiså®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å°±æ˜¯å…¬æœ‰çš„ã€‚
é€šè¿‡ `prototype` åˆ›å»ºçš„å±æ€§åœ¨ç±»çš„å®ä¾‹åŒ–ä¹‹åç±»çš„å®ä¾‹åŒ–å¯¹è±¡ä¹Ÿæ˜¯å¯ä»¥è®¿é—®åˆ°çš„ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯å…¬æœ‰çš„ã€‚

- **protected**ï¼šåœ¨å‡½æ•°çš„å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ `this` å®šä¹‰çš„æ–¹æ³•è®¿é—®åˆ°ä¸€äº›ç±»çš„ç§æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œåœ¨å®ä¾‹åŒ–çš„æ—¶å€™å°±å¯ä»¥åˆå§‹åŒ–å¯¹è±¡çš„ä¸€äº›å±æ€§äº†ã€‚

#### newå®è´¨

é€šè¿‡ä¾‹å­`var instance = new Foo()`è§£æï¼š

1. æ–°å»ºä¸€ä¸ªå¯¹è±¡`instance`

2. `instance.__proto__ = Foo.prototype`ï¼Œå°†æ–°åˆ›å»ºå¯¹è±¡çš„`__proto__`å±æ€§æŒ‡å‘æ„é€ å‡½æ•°çš„`prototype`å±æ€§

3. å°†`this`æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡`instance`

4. è¿”å›æ–°å¯¹è±¡ï¼Œä½†æ˜¯è¿™é‡Œéœ€è¦çœ‹æ„é€ å‡½æ•°æœ‰æ²¡æœ‰è¿”å›å€¼ï¼Œå¦‚æœæ„é€ å‡½æ•°çš„è¿”å›å€¼ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ä¸º `string, boolean, number, null, undefined`,  é‚£ä¹ˆå°±è¿”å›æ–°å¯¹è±¡ï¼Œå¦‚æœæ„é€ å‡½æ•°çš„è¿”å›å€¼ä¸ºå¯¹è±¡ç±»å‹ï¼Œé‚£ä¹ˆå°±è¿”å›è¿™ä¸ªå¯¹è±¡ç±»å‹

æ —å­ï¼š

```javascript
var Book = function(id, name, price) {
  // private(åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰ï¼Œå‡½æ•°å¤–éƒ¨è®¿é—®ä¸åˆ°ï¼Œå®ä¾‹åŒ–ä¹‹åå®ä¾‹åŒ–çš„å¯¹è±¡è®¿é—®ä¸åˆ°)
  var num = 1
  var id = id
  function checkId() {
    console.log('private')
  }
  // protected(å¯ä»¥è®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•ï¼Œåœ¨å®ä¾‹åŒ–ä¹‹åå°±å¯ä»¥å¯¹å®ä¾‹åŒ–çš„ç±»è¿›è¡Œåˆå§‹åŒ–æ‹¿åˆ°å‡½æ•°çš„ç§æœ‰å±æ€§)
  this.getName = function() {
    console.log(name)
  }

  this.getPrice = function() {
    console.log(price)
  }

  // public(å®ä¾‹åŒ–çš„ä¹‹åï¼Œå®ä¾‹åŒ–çš„å¯¹è±¡å°±å¯ä»¥è®¿é—®åˆ°)
  this.name = name
  this.copy = function() {
    console.log('this is a public')
  }
}

// åœ¨BookåŸå‹ä¸Šæ·»åŠ çš„æ–¹æ³•å®ä¾‹åŒ–ä¹‹åå¯ä»¥è¢«å®ä¾‹åŒ–å¯¹è±¡ç»§æ‰¿
Book.prototype.foo = function() {
  console.log('bar')
}

// åœ¨å‡½æ•°å¤–éƒ¨é€šè¿‡.è¯­æ³•åˆ›å»ºçš„å±æ€§å’Œæ–¹æ³•ï¼Œåªèƒ½é€šè¿‡è¯¥ç±»æ¥è®¿é—®ï¼Œå®ä¾‹åŒ–å¯¹è±¡è®¿é—®ä¸åˆ°
Book.bar = function() {
  console.log('foo')
}


var book = new Book('1', 'é’¢é“æ˜¯æ€æ ·ç‚¼æˆçš„', 'ï¿¥99')

book.getName() // é’¢é“æ˜¯æ€æ ·ç‚¼æˆçš„ getNameæ˜¯protectedï¼Œå¯ä»¥è®¿é—®åˆ°ç±»çš„ç§æœ‰å±æ€§ï¼Œæ‰€ä»¥å®ä¾‹åŒ–ä¹‹åä¹Ÿå¯ä»¥è®¿é—®åˆ°å‡½æ•°çš„ç§æœ‰å±æ€§

book.checkId() // æŠ¥é”™book.checkId is not a function

console.log(book.id)   // undefined idæ˜¯åœ¨å‡½æ•°å†…éƒ¨é€šè¿‡å®šä¹‰çš„ï¼Œæ˜¯ç§æœ‰å±æ€§ï¼Œæ‰€ä»¥å®ä¾‹åŒ–å¯¹è±¡è®¿é—®ä¸åˆ°

console.log(book.name) //name æ˜¯é€šè¿‡thisåˆ›å»ºçš„ï¼Œæ‰€ä»¥åœ¨å®ä¾‹åŒ–çš„æ—¶å€™ä¼šåœ¨book1ä¸­å¤åˆ¶ä¸€énameå±æ€§ï¼Œæ‰€ä»¥å¯ä»¥è®¿é—®åˆ°

book.copy() // this is public

book.foo() // bar

Book.bar() // foo

book.bar() // æŠ¥é”™book.bar is not a function
```


## ç»§æ‰¿

### ä»€ä¹ˆæ˜¯ç»§æ‰¿
> å­ç±»å¯ä»¥ä½¿ç”¨çˆ¶ç±»çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶ä¸”å¯¹è¿™äº›åŠŸèƒ½è¿›è¡Œæ‰©å±•ã€‚ç»§æ‰¿çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä»ä¸€èˆ¬åˆ°ç‰¹æ®Šçš„è¿‡ç¨‹ã€‚

### ç»§æ‰¿çš„æ–¹å¼

##### ç±»å¼ç»§æ‰¿

æ‰€è°“çš„ç±»å¼ç»§æ‰¿å°±æ˜¯ä½¿ç”¨çš„åŸå‹çš„æ–¹å¼ï¼Œå°†æ–¹æ³•æ·»åŠ åœ¨çˆ¶ç±»çš„åŸå‹ä¸Šï¼Œç„¶åå­ç±»çš„åŸå‹æ˜¯çˆ¶ç±»çš„ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡ã€‚

```javascript
// å£°æ˜çˆ¶ç±»
var SuperClass = function() {
  var id = 1
  this.name = ['javascript']
  this.superValue = function() {
    console.log('superValue')
    console.log(id)
  }
}

// ä¸ºçˆ¶ç±»æ·»åŠ å…¬å…±æ–¹æ³•
SuperClass.prototype.getSuperValue = function() {
  this.superValue()
}

// å£°æ˜å­ç±»
var SubClass = function() {
  this.subValue = function() {
    console.log('subValue')
  }
}

// å­ç±»ç»§æ‰¿çˆ¶ç±»
SubClass.prototype = new superClass()

SubClass.prototype.getSubValue = function() {
  this.subValue()
}

var sub = new SubClass()
var sub2 =  new  SubClass()

sub.getSuperValue()   // superValue
sub.getSubValue()     // subValue

console.log(sub.id)    // undefined
console.log(sub.name)  // ['javascript']

sub.name.push('java')  // ["java"]
console.log(sub2.name)  // ["javascript", "java"]
```

å…¶ä¸­æœ€æ ¸å¿ƒçš„ä¸€å¥ä»£ç æ˜¯ `SubClass.prototype = new SuperClass()`
ç±»çš„åŸå‹å¯¹è±¡ `prototype` å¯¹è±¡çš„ä½œç”¨å°±æ˜¯ä¸ºç±»çš„åŸå‹æ·»åŠ å…±æœ‰æ–¹æ³•çš„ï¼Œä½†æ˜¯ç±»ä¸èƒ½ç›´æ¥è®¿é—®è¿™äº›æ–¹æ³•ï¼Œåªæœ‰å°†ç±»å®ä¾‹åŒ–ä¹‹åï¼Œæ–°åˆ›å»ºçš„å¯¹è±¡å¤åˆ¶äº†çˆ¶ç±»æ„é€ å‡½æ•°ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶å°†åŸå‹ `__proto__` æŒ‡å‘äº†çˆ¶ç±»çš„åŸå‹å¯¹è±¡ã€‚è¿™æ ·å­ç±»å°±å¯ä»¥è®¿é—®çˆ¶ç±»çš„ `public` å’Œ `protected` çš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŒæ—¶ï¼Œçˆ¶ç±»ä¸­çš„ `private` çš„å±æ€§å’Œæ–¹æ³•ä¸ä¼šè¢«å­ç±»ç»§æ‰¿ã€‚

ç¼ºé™·ï¼š ä½¿ç”¨ç±»ç»§æ‰¿çš„æ–¹æ³•ï¼Œå¦‚æœçˆ¶ç±»çš„æ„é€ å‡½æ•°ä¸­æœ‰å¼•ç”¨ç±»å‹ï¼Œå°±ä¼šåœ¨å­ç±»ä¸­è¢«æ‰€æœ‰å®ä¾‹å…±ç”¨ï¼Œå› æ­¤ä¸€ä¸ªå­ç±»çš„å®ä¾‹å¦‚æœæ›´æ”¹äº†è¿™ä¸ªå¼•ç”¨ç±»å‹ï¼Œå°±ä¼šå½±å“åˆ°å…¶ä»–å­ç±»çš„å®ä¾‹ã€‚

##### æ„é€ å‡½æ•°ç»§æ‰¿

æ„é€ å‡½æ•°ç»§æ‰¿çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ `SuperClass.call(this, id)` ,ç›´æ¥æ”¹å˜thisçš„æŒ‡å‘ï¼Œä½¿é€šè¿‡thisåˆ›å»ºçš„å±æ€§å’Œæ–¹æ³•åœ¨å­ç±»ä¸­å¤åˆ¶ä¸€ä»½ï¼Œå› ä¸ºæ˜¯å•ç‹¬å¤åˆ¶çš„ï¼Œæ‰€ä»¥å„ä¸ªå®ä¾‹åŒ–çš„å­ç±»äº’ä¸å½±å“ã€‚ä½†æ˜¯ä¼šé€ æˆå†…å­˜æµªè´¹çš„é—®é¢˜ã€‚

```javascript
//æ„é€ å‡½æ•°ç»§æ‰¿
//å£°æ˜çˆ¶ç±»
function SuperClass(id) {
    var name = 'javascript'
    this.books = ['javascript','html','css']
    this.id = id
}

//å£°æ˜çˆ¶ç±»åŸå‹æ–¹æ³•
SuperClass.prototype.showBooks = function() {
    console.log(this.books)
}

//å£°æ˜å­ç±»
function SubClass(id) {
    SuperClass.call(this, id)
}

//åˆ›å»ºç¬¬ä¸€ä¸ªå­ç±»å®ä¾‹
var subclass1 = new SubClass(10)
var subclass2 = new SubClass(11)

console.log(subclass1.books)
console.log(subclass2.id)
console.log(subclass1.name)  //undefined
subclass2.showBooks()
```

##### ç»„åˆå¼ç»§æ‰¿

|  | ç±»ç»§æ‰¿ | æ„é€ å‡½æ•°ç»§æ‰¿ |
| :-- | :--| :-- |
| æ ¸å¿ƒæ€æƒ³ | å­ç±»çš„åŸå‹æ˜¯çˆ¶ç±»å®ä¾‹åŒ–çš„å¯¹è±¡ | SuperClass.call(this,id) |
| ä¼˜ç‚¹ | å­ç±»å®ä¾‹åŒ–å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•éƒ½æŒ‡å‘çˆ¶ç±»çš„åŸå‹ | æ¯ä¸ªå®ä¾‹åŒ–çš„å­ç±»äº’ä¸å½±å“ |
| ç¼ºç‚¹ | å­ç±»ä¹‹é—´å¯èƒ½ä¼šäº’ç›¸å½±å“ | å†…å­˜æµªè´¹ |


ç»„åˆå¼ç»§æ‰¿æ±²å–ä¸¤è€…çš„ä¼˜ç‚¹ï¼Œå³é¿å…äº†å†…å­˜æµªè´¹ï¼Œåˆä½¿å¾—æ¯ä¸ªå®ä¾‹åŒ–çš„å­ç±»äº’ä¸å½±å“ã€‚

```javascript
//ç»„åˆå¼ç»§æ‰¿
//å£°æ˜çˆ¶ç±»
var SuperClass = function (name) {
    this.name = name
    this.books=['javascript','html','css']
}

//å£°æ˜çˆ¶ç±»åŸå‹ä¸Šçš„æ–¹æ³•
SuperClass.prototype.showBooks = function() {
    console.log(this.books)
}

//å£°æ˜å­ç±»
var SubClass = function name) {
    SuperClass.call(this, name)
}

//å­ç±»ç»§æ‰¿çˆ¶ç±»ï¼ˆé“¾å¼ç»§æ‰¿ï¼‰
SubClass.prototype = new SuperClass()

//å®ä¾‹åŒ–å­ç±»
var subclass1 = new SubClass('java')
var subclass2 = new SubClass('php')
subclass2.showBooks()
subclass1.books.push('ios')  // ["javascript", "html", "css"]
console.log(subclass1.books) // ["javascript", "html", "css", "ios"]
console.log(subclass2.books) // ["javascript", "html", "css"]
```

ç¼ºé™·ï¼šçˆ¶ç±»çš„æ„é€ å‡½æ•°ä¼šè¢«åˆ›å»ºä¸¤æ¬¡ï¼ˆcall()çš„æ—¶å€™ä¸€éï¼Œnewçš„æ—¶å€™åˆä¸€éï¼‰

##### å¯„ç”Ÿç»„åˆç»§æ‰¿

åœ¨ç±»ç»§æ‰¿ä¸­æˆ‘ä»¬å¹¶ä¸éœ€è¦åˆ›å»ºçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬åªæ˜¯è¦å­ç±»ç»§æ‰¿çˆ¶ç±»çš„åŸå‹å³å¯ã€‚æ‰€ä»¥å¯ä»¥å…ˆç»™çˆ¶ç±»çš„åŸå‹åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ï¼Œç„¶åä¿®æ”¹å­ç±»constructorå±æ€§ï¼Œæœ€ååœ¨è®¾ç½®å­ç±»çš„åŸå‹å°±å¯ä»¥äº†

```javascript
//åŸå‹å¼ç»§æ‰¿
//åŸå‹å¼ç»§æ‰¿å…¶å®å°±æ˜¯ç±»å¼ç»§æ‰¿çš„å°è£…,å®ç°çš„åŠŸèƒ½æ˜¯è¿”å›ä¸€ä¸ªå®ä¾‹ï¼Œæ”¹å®ä¾‹çš„åŸå‹ç»§æ‰¿äº†ä¼ å…¥çš„oå¯¹è±¡
function inheritObject(o) {
    //å£°æ˜ä¸€ä¸ªè¿‡æ¸¡å‡½æ•°å¯¹è±¡
    function F() {}
    //è¿‡æ¸¡å¯¹è±¡çš„åŸå‹ç»§æ‰¿çˆ¶å¯¹è±¡
    F.prototype = o;
    //è¿”å›ä¸€ä¸ªè¿‡æ¸¡å¯¹è±¡çš„å®ä¾‹ï¼Œè¯¥å®ä¾‹çš„åŸå‹ç»§æ‰¿äº†çˆ¶å¯¹è±¡
    return new F();
}
//å¯„ç”Ÿå¼ç»§æ‰¿
//å¯„ç”Ÿå¼ç»§æ‰¿å°±æ˜¯å¯¹åŸå‹ç»§æ‰¿çš„ç¬¬äºŒæ¬¡å°è£…ï¼Œä½¿å¾—å­ç±»çš„åŸå‹ç­‰äºçˆ¶ç±»çš„åŸå‹ã€‚å¹¶ä¸”åœ¨ç¬¬äºŒæ¬¡å°è£…çš„è¿‡ç¨‹ä¸­å¯¹ç»§æ‰¿çš„å¯¹è±¡è¿›è¡Œäº†æ‰©å±•
function inheritPrototype(subClass, superClass){
    //å¤åˆ¶ä¸€ä»½çˆ¶ç±»çš„åŸå‹ä¿å­˜åœ¨å˜é‡ä¸­ï¼Œä½¿å¾—pçš„åŸå‹ç­‰äºçˆ¶ç±»çš„åŸå‹
    var p = inheritObject(superClass.prototype);
    //ä¿®æ­£å› ä¸ºé‡å†™å­ç±»åŸå‹å¯¼è‡´å­ç±»constructorå±æ€§è¢«ä¿®æ”¹
    p.constructor = subClass;
    //è®¾ç½®å­ç±»çš„åŸå‹
    subClass.prototype = p;
}
//å®šä¹‰çˆ¶ç±»
var SuperClass = function (name) {
    this.name = name;
    this.books = ['javascript','html','css']
};
//å®šä¹‰çˆ¶ç±»åŸå‹æ–¹æ³•
SuperClass.prototype.getBooks = function () {
    console.log(this.books)
};

//å®šä¹‰å­ç±»
var SubClass = function (name) {
    SuperClass.call(this,name)
}

inheritPrototype(SubClass,SuperClass);

var subclass1 = new SubClass('php')
```

